version: "3.8"

services:
  file-knowledge-mcp:
    build:
      context: .
    image: file-knowledge-mcp:latest
    volumes:
      # Mount documents as read-only for security
      - ./documents:/knowledge:ro
      - ./config.yaml:/config/config.yaml:ro
    # For MCP stdio communication
    stdin_open: true
    tty: true

    # Optional: Resource limits
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '1.0'
